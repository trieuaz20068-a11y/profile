<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Vietnamese-capable webfont: Noto Sans -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;700;900&display=swap&subset=vietnamese" rel="stylesheet">
  <!-- Serif display font for category labels (targets elements with aria-expanded) -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <title>Pens ‚Äî D·ª•ng c·ª• h·ªçc t·∫≠p</title>
    <style>
/* Basic reset and theme */
*{box-sizing:border-box}
/* use Noto Sans for reliable Vietnamese glyphs, fall back to common system fonts */
body{font-family: 'Noto Sans', 'Segoe UI', Tahoma, Verdana, sans-serif;margin:0;color:#222;background:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; text-rendering:optimizeLegibility}
  .topbar{background:#ffdfe6;color:#7a1f2e;padding:8px 12px;font-weight:700;text-align:right}
/* header: center the search form while keeping logo left and actions right */
.header-main{display:flex;align-items:center;justify-content:center;padding:18px 12px;border-bottom:1px solid #f0e4e7;position:relative}
.header-main .logo{position:absolute;left:12px;display:flex;align-items:center}
.header-main .logo img{display:block;height:48px}
.header-main .logo .logo-text{margin-left:10px;font-size:20px;font-weight:900;color:#7a1f2e;letter-spacing:2px}
.search-form{flex:0 1 66%;max-width:820px;margin:0;position:relative}
.search-form input{width:100%;padding:12px 64px 12px 18px;height:46px;border-radius:10px;border:1px solid rgba(255,150,170,0.45);background:linear-gradient(180deg,#fff,#fff);font-size:15px;color:#333}
.search-form input::placeholder{color:#caa;opacity:1}
.search-btn{position:absolute;right:6px;top:50%;transform:translateY(-50%);width:48px;height:36px;border-radius:8px;border:0;background:linear-gradient(90deg,#ff9bb9,#ff7b97);cursor:pointer;color:#fff;display:inline-flex;align-items:center;justify-content:center;font-size:18px}
  .header-actions{display:flex;align-items:center;gap:12px;position:absolute;right:12px;min-width:120px;justify-content:flex-end}
.cart-btn{background:transparent;border:0;font-size:18px;cursor:pointer}
.cart-btn #cartCount{background:#ff6f8a;color:#fff;border-radius:50%;padding:2px 6px;margin-left:6px;font-weight:700}
.auth-inline{display:flex;align-items:center;gap:8px;font-weight:700;color:#222}
.auth-inline a{color:#222;text-decoration:none}
.auth-inline a:hover{color:#ff5f86}
.categories{display:flex;gap:14px;padding:14px 12px;background:#ffd0da;margin:12px;border-radius:8px;justify-content:center}
.categories{display:flex;gap:18px;padding:14px 12px;background:#ffd0da;margin:12px;border-radius:8px;justify-content:center}
.nav-item{position:relative}
.nav-btn{background:transparent;border:0;color:#7a1f2e;font-weight:800;padding:10px 18px;border-radius:6px;cursor:pointer;font-size:16px}
.nav-btn:hover{background:#ffbfcf;transform:translateY(-2px);box-shadow:0 6px 14px rgba(124,16,57,0.08)}
.submenu{position:absolute;top:calc(100% + 8px);left:0;min-width:180px;background:#fff;border-radius:8px;padding:6px 6px;box-shadow:0 10px 30px rgba(0,0,0,0.08);display:none;z-index:40}
.submenu a{display:block;padding:8px 12px;color:#333;text-decoration:none;border-radius:6px}
.submenu a:hover{background:#f7f2f4}
.nav-item.open .submenu{display:block}
.nav-item .nav-btn[aria-expanded="true"]{color:#7a1f2e}

/* Use a display serif for category labels (buttons that use aria-expanded) so
   the menu headings show a distinctive typographic style. Also target the
   first button which carries a custom attribute marker `sans-serif="false"`. */
.nav-btn[aria-expanded], .nav-btn[sans-serif="false"]{
  font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
  font-weight:700;
  letter-spacing:1px;
  font-size:17px;
  color:#7a1f2e;
}

/* search focus */
.search-form input:focus{box-shadow:0 6px 20px rgba(255,105,140,0.12);border-color:#ff8aa3}

.btn{transition:all .14s ease}
.btn.primary:hover{transform:translateY(-3px);box-shadow:0 10px 22px rgba(255,123,151,0.18)}
.btn.secondary:hover{background:#f3f3f3}

/* subtle header shadow */
.header-main{box-shadow:0 6px 20px rgba(124,16,57,0.04)}

/* page layout */
.container{display:flex;gap:18px;max-width:1200px;margin:18px auto;padding:0 12px}
.filters{width:240px;background:linear-gradient(180deg,#fff5f8,#fff0f4);padding:16px;border-radius:12px;border:1px solid rgba(240,140,170,0.18);box-shadow:0 8px 24px rgba(240,80,128,0.06)}
/* filters heading */
.filters h3{margin:4px 0 12px 6px;color:#d43f6b;font-size:20px}
.filters ul{list-style:none;padding:0;margin:0}
.filters li{margin:10px 0;display:flex;align-items:center}
.filter-btn{appearance:none;background:transparent;border:1px solid rgba(240,80,128,0.16);padding:8px 10px;border-radius:8px;color:#7a1f2e;cursor:pointer;font-weight:700}
.filter-btn:hover{background:rgba(255,123,151,0.06);border-color:rgba(240,80,128,0.28);transform:translateY(-2px)}
.filter-btn.active{background:linear-gradient(90deg,#ff9bb9,#ff7b97);color:#fff;border-color:transparent;box-shadow:0 8px 20px rgba(255,100,140,0.12);transform:none}
.products{flex:1}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
.card{background:#fff;border:1px solid #eee;padding:12px;border-radius:8px;display:flex;flex-direction:column;align-items:center}
/* Uniform product thumbnails: same height and style across categories */
.prod-img{width:100%;height:190px;max-height:190px;object-fit:cover;border-radius:12px;border:1px solid #f1dee3;transition:transform .18s ease,box-shadow .18s ease;background:#fff}
/* pouch (tdb) specific: slightly smaller, extra padding so shape reads well */
/* removed pouch-specific sizing to keep thumbnails uniform */
.card{box-shadow:0 6px 18px rgba(124,16,57,0.06);transition:transform .18s ease,box-shadow .18s ease}
.card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(124,16,57,0.12)}

.card:hover .prod-img{transform:scale(1.03)}
.thumb{width:100%;height:140px;border-radius:6px;background:linear-gradient(135deg,#ffe9ee,#ffdbe4);display:flex;align-items:center;justify-content:center;font-weight:700;color:#7a1f2e}
.title{font-weight:700;margin:10px 0 6px}
.price{color:#c40000;font-weight:800;margin-bottom:8px}
.btn{padding:8px 12px;border-radius:6px;border:0;cursor:pointer}
.btn.secondary{background:#f0f0f0}
.btn.primary{background:#ff7b97;color:#fff}

/* modals (cart, login, register) */
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;align-items:center;justify-content:center;z-index:100}
.modal-panel{background:#fff;padding:18px;border-radius:12px;min-width:320px;position:relative;box-shadow:0 10px 30px rgba(0,0,0,0.1)}
.modal .close{position:absolute;right:12px;top:12px;border:0;background:transparent;font-size:18px;cursor:pointer;padding:4px;line-height:1}
/* cart specific */
.cart-modal{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;align-items:center;justify-content:center;z-index:100}
.cart-panel{background:#fff;padding:18px;border-radius:12px;min-width:320px;position:relative;box-shadow:0 10px 30px rgba(0,0,0,0.1);max-width:420px}
.cart-list{list-style:none;padding:0;margin:0;max-height:300px;overflow:auto}
.cart-list li{display:flex;gap:8px;padding:8px 0;border-bottom:1px dashed #eee}
.cart-footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
/* auth modals */
.auth-modal{position:fixed;inset:0;background:rgba(255,182,193,0.2);backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;z-index:100}
.auth-panel{background:linear-gradient(180deg,#fff,#fff5f8);padding:28px;border-radius:16px;min-width:320px;position:relative;box-shadow:0 20px 40px rgba(240,80,128,0.15);width:420px}
.auth-panel::before{content:"";position:absolute;inset:1px;background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.5));border-radius:15px;z-index:-1}
.auth-panel h3{margin:0 0 24px;color:#7a1f2e;font-size:24px;text-align:center;font-weight:800;letter-spacing:-0.5px}
.auth-form{display:flex;flex-direction:column;gap:16px}
.form-row{display:flex;flex-direction:column;gap:8px}
.form-row label{font-size:14px;color:#7a1f2e;font-weight:600}
.form-row input{padding:12px 16px;border-radius:12px;border:2px solid rgba(240,80,128,0.15);font-size:15px;background:rgba(255,255,255,0.9);transition:all 0.2s ease}
.form-row input:hover{border-color:rgba(240,80,128,0.3)}
.form-row input:focus{outline:none;border-color:#ff8aa3;background:#fff;box-shadow:0 6px 20px rgba(255,105,140,0.12)}
.form-actions{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
.form-actions .btn.primary{background:linear-gradient(45deg,#ff85c0,#ff7b97);color:#fff;padding:12px 24px;border-radius:12px;font-weight:700;font-size:15px;border:none;cursor:pointer;transition:all 0.2s ease}
.form-actions .btn.primary:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(255,105,140,0.25)}
.form-link{color:#ff7b97;text-decoration:none;font-size:14px;font-weight:600;transition:color 0.2s ease}
.form-link:hover{color:#ff85c0}
.form-note{font-size:14px;color:#666;text-align:center;margin-top:16px;padding-top:16px;border-top:1px solid rgba(240,80,128,0.1)}
.form-note a{color:#ff7b97;text-decoration:none;font-weight:600;transition:color 0.2s ease}
.form-note a:hover{color:#ff85c0}
.auth-panel .close{position:absolute;right:16px;top:16px;width:32px;height:32px;border-radius:50%;border:none;background:rgba(255,255,255,0.9);color:#7a1f2e;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s ease;box-shadow:0 2px 8px rgba(240,80,128,0.1)}
.auth-panel .close:hover{background:#fff;transform:rotate(90deg);box-shadow:0 4px 12px rgba(240,80,128,0.15)}
/* allow register panel to scroll when we force a height */
.auth-panel.register-panel{overflow:auto}
/* registration form specific */
.register-panel{max-width:720px;width:88%;padding:12px}
.register-panel h4{color:#7a1f2e;font-size:16px;margin:4px 0 6px;padding-bottom:0}
.register-card{display:flex;gap:14px;align-items:stretch}
.reg-visual{flex:0 0 140px;background:linear-gradient(180deg,#fff5f8,#fff0f4);border-radius:10px;padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6),0 6px 18px rgba(240,80,128,0.05)}
.reg-visual svg{width:72px;height:72px;display:block;margin-bottom:10px}
.reg-visual h4{margin:0 0 6px;font-size:16px;color:#7a1f2e}
.reg-visual p{margin:0;color:#7a1f2e;opacity:0.95;text-align:center;font-size:13px}
.reg-body{flex:1}
.register-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.register-grid .full{grid-column:1/-1}
.date-inline{display:flex;gap:8px;align-items:center}
.date-inline select, .date-inline input{padding:10px;border-radius:10px;border:1px solid rgba(240,80,128,0.12);background:rgba(255,255,255,0.98);font-size:14px;transition:all 0.14s ease}
.date-inline select:hover, .date-inline input:hover{border-color:rgba(240,80,128,0.24)}
.date-inline select:focus, .date-inline input:focus{outline:none;border-color:#ff8aa3;background:#fff;box-shadow:0 6px 18px rgba(255,105,140,0.06)}
.gender{display:flex;gap:12px;align-items:center;padding:6px 0}
.gender label{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:600;color:#444}
.gender input[type="radio"]{appearance:none;width:16px;height:16px;border:2px solid rgba(240,80,128,0.16);border-radius:50%;margin:0;position:relative;cursor:pointer}
.gender input[type="radio"]:checked{border-color:#ff7b97;background:#fff}
.gender input[type="radio"]:checked::after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:7px;height:7px;border-radius:50%;background:#ff7b97}
.gender input[type="radio"]:hover{border-color:rgba(240,80,128,0.32)}
.btn.ghost{background:rgba(255,255,255,0.98);border:1px solid rgba(240,80,128,0.12);color:#7a1f2e;padding:10px 18px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;transition:all 0.14s ease}
.btn.ghost:hover{background:#fff;border-color:rgba(240,80,128,0.24);transform:translateY(-2px)}
@media (max-width:900px){
  .reg-visual{flex:0 0 120px}
}
@media (max-width:700px){
    .register-grid{grid-template-columns:1fr}
    .register-panel{padding:12px}
    .date-inline{flex-wrap:wrap}
    .date-inline select, .date-inline input{flex:1}
    .register-card{flex-direction:column}
    .reg-visual{width:100%;flex:0 0 auto}
}

/* quickview */
.quickview{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;align-items:center;justify-content:center;z-index:80}
.quickview-panel{background:#fff;border-radius:8px;padding:18px;display:flex;gap:18px;max-width:900px;width:90%;align-items:flex-start}
.quickview-panel .q-image img{width:360px;height:360px;object-fit:cover;border-radius:12px;border:1px solid #f1dee3}
.quickview-panel .q-info{flex:1}

/* product detail page */
.product-detail{max-width:1000px;margin:20px auto;padding:12px;display:flex;gap:20px}
.pd-image img{width:480px;height:480px;object-fit:cover;border-radius:12px}


/* responsive */
@media (max-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}.filters{display:none}}
@media (max-width:700px){.grid{grid-template-columns:repeat(2,1fr)}.categories{overflow:auto;gap:8px;padding:10px}}
@media (max-width:420px){.grid{grid-template-columns:repeat(1,1fr)}.search-form{max-width:100%}}
@media (max-width:520px){
  .header-main .logo .logo-text{display:none}
  .search-form{flex:1 1 100%;padding:0 12px}
  .header-main{padding:12px}
}
/* hero slider (below categories) */
.hero-slider{max-width:1200px;margin:12px auto;border-radius:12px;overflow:hidden;box-shadow:0 8px 30px rgba(124,16,57,0.06)}
.hero-slider .slides{display:flex;transition:transform .6s ease}
.hero-slider .slide{min-width:100%;height:340px;background-size:cover;background-position:center;flex-shrink:0}
.hero-slider .slide::after{content:"";display:block;position:relative;height:0}
.slider-dots{display:flex;gap:8px;justify-content:center;padding:10px;background:transparent}
.slider-dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.6);border:1px solid rgba(122,31,46,0.12);cursor:pointer}
.slider-dot.active{background:linear-gradient(90deg,#ff9bb9,#ff7b97);box-shadow:0 6px 14px rgba(124,16,57,0.08)}
@media (max-width:800px){.hero-slider .slide{height:180px}}@media (max-width:420px){.hero-slider .slide{height:140px}}

/* footer styles */
.site-footer{background:linear-gradient(180deg,#fff5f7,#ffeef4);padding:36px 12px;color:#4b2230;border-top:1px solid rgba(124,16,57,0.06)}
.footer-container{max-width:1200px;margin:0 auto;display:flex;gap:28px;flex-wrap:wrap;align-items:flex-start;justify-content:space-between}
.footer-col{flex:1;min-width:200px}
.footer-brand{display:flex;align-items:center;gap:12px}
.footer-brand img{height:46px;border-radius:8px}
.footer-links{list-style:none;padding:0;margin:8px 0}
.footer-links li{margin:6px 0}
.footer-links a{color:#7a1f2e;text-decoration:none}
.footer-links a:hover{color:#ff6f8a}
.newsletter{background:#fff;padding:12px;border-radius:10px;border:1px solid rgba(240,80,128,0.08);max-width:380px}
.newsletter input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(240,80,128,0.12);margin-bottom:8px}
.newsletter button{background:linear-gradient(90deg,#ff9bb9,#ff7b97);color:#fff;border:0;padding:10px 12px;border-radius:8px;cursor:pointer}
.footer-bottom{width:100%;border-top:1px solid rgba(124,16,57,0.04);margin-top:20px;padding-top:18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;color:#7a1f2e;font-size:14px}
.socials{display:flex;gap:8px;margin-top:8px}
.socials a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;background:linear-gradient(180deg,#fff,#ffeef4);border:1px solid rgba(240,80,128,0.08);color:#7a1f2e;text-decoration:none;font-weight:700}
.payment-icons{display:flex;gap:8px;align-items:center}

@media (max-width:700px){
  .footer-container{flex-direction:column;gap:18px}
  .footer-bottom{flex-direction:column;gap:8px;text-align:center}
}

    </style>
  </head>
<body>
  </div>
  
  <header class="site-header">
  <div class="topbar"><a href="HeThongCuaHang.html" style="color:inherit;text-decoration:underline;font-weight:800">H·ªÜ TH·ªêNG C·ª¨A H√ÄNG</a> &nbsp; ‚Ä¢ &nbsp; <a href="VePen.html" style="color:inherit;font-weight:800">V·ªÄ PENS</a></div>
    <div class="header-main">
  <div class="logo"> <img src="umaru.png" alt="logo umaru"><span class="logo-text">PENS</span></div>
      <form class="search-form" onsubmit="return false;">
        <input id="searchInput" placeholder="T√¨m ki·∫øm d·ª•ng c·ª• h·ªçc t·∫≠p" />
        <button class="search-btn" title="T√¨m">üîç</button>
      </form>
        <div class="header-actions">
        <button id="cartBtn" class="cart-btn" aria-label="Gi·ªè h√†ng">üõí <span id="cartCount">0</span></button>
        <div class="auth-inline">
          <a href="#" id="loginBtn">ƒêƒÉng nh·∫≠p</a>
          <span>|</span>
          <a href="#" id="registerBtn">ƒêƒÉng k√Ω</a>
        </div>
      </div>
    </div>
    <nav class="categories" id="mainNav">
      <div class="nav-item">
        <button class="nav-btn" sans-serif="false">T·∫§T C·∫¢ </button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">T·∫•t c·∫£ s·∫£n ph·∫©m</a>
          <a href="#">Khuy·∫øn m√£i</a>
          <a href="#">H√†ng m·ªõi</a>
        </div>
      </div>

      <div class="nav-item">
        <button class="nav-btn" aria-expanded="false">B√∫t vi·∫øt</button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">B√∫t gel</a>
          <a href="#">B√∫t bi</a>
          <a href="#">B√∫t ch√¨</a>
        </div>
      </div>

      <div class="nav-item">
        <button class="nav-btn" aria-expanded="false">T·∫≠p v·ªü</button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">T·∫≠p 100 trang</a>
          <a href="#">T·∫≠p 200 trang</a>
          <a href="#">S·ªï tay</a>
        </div>
      </div>

      <div class="nav-item">
        <button class="nav-btn" aria-expanded="false">Balo &amp; T√∫i</button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">Balo tr·∫ª em</a>
          <a href="#">T√∫i ƒë·ª±ng b√∫t</a>
          <a href="#">T√∫i v·∫£i</a>
        </div>
      </div>

      <div class="nav-item">
        <button class="nav-btn" aria-expanded="false">D·ª•ng c·ª• v·∫Ω</button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">H·ªôp b√∫t v·∫Ω</a>
          <a href="#">M√†u n∆∞·ªõc</a>
          <a href="#">C·ªç v·∫Ω</a>
        </div>
      </div>

      <div class="nav-item">
        <button class="nav-btn" aria-expanded="false">Ph·ª• ki·ªán</button>
        <div class="submenu" role="menu" aria-hidden="true">
          <a href="#">G√¥m</a>
          <a href="#">Th∆∞·ªõc</a>
          <a href="#">BƒÉng keo</a>
        </div>
      </div>
    </nav>
  </header>

    <!-- HERO SLIDER -->
    <div class="hero-slider" aria-label="Banner s·∫£n ph·∫©m">
      <div class="slides">
        <div class="slide" style="background-image:url('vip.jpg');" role="img" aria-label="Balo tr·∫ª em"></div>
        <div class="slide" style="background-image:url('quatang.webp');" role="img" aria-label="B√∫t gel m√†u"></div>
        <div class="slide" style="background-image:url('s200.jpeg');" role="img" aria-label="T·∫≠p 200 trang"></div>
      </div>
      <div class="slider-dots" aria-hidden="false"></div>
    </div>

  <main class="container">
    <aside class="filters">
      <h3>Lo·∫°i</h3>
      <ul>
        <li><button data-cat="all" class="filter-btn active">T·∫•t c·∫£</button></li>
        <li><button data-cat="pen" class="filter-btn">B√∫t</button></li>
        <li><button data-cat="notebook" class="filter-btn">T·∫≠p v·ªü</button></li>
        <li><button data-cat="bag" class="filter-btn">Balo</button></li>
      </ul>
    </aside>

    <section class="products">
      <h2>S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
      <div id="productGrid" class="grid">
        <!-- products injected by script.js -->
      </div>
    </section>
  </main>

  <!-- cart modal -->
  <div id="cartModal" class="cart-modal" aria-hidden="true">
    <div class="cart-panel">
      <h3>Gi·ªè h√†ng</h3>
      <ul id="cartList" class="cart-list"></ul>
      <div class="cart-footer">
        <div class="total">T·ªïng: <span id="cartTotal">0</span>‚Ç´</div>
        <button id="checkoutBtn" class="btn primary">Thanh to√°n</button>
      </div>
      <button id="closeCart" class="close">‚úï</button>
    </div>
  </div>

  <!-- quick view modal -->
  <div id="quickView" class="quickview" aria-hidden="true">
    <div class="quickview-panel">
      <button id="qClose" class="close">‚úï</button>
      <div class="q-image"><img id="qImg" src="" alt=""></div>
      <div class="q-info">
        <h3 id="qTitle"></h3>
        <div id="qPrice" class="price"></div>
        <p id="qDesc">M√¥ t·∫£ ng·∫Øn v·ªÅ s·∫£n ph·∫©m.</p>
        <div style="margin-top:12px"><button id="qAdd" class="btn primary">Th√™m v√†o gi·ªè</button> <a id="qDetail" class="btn secondary" href="#">Xem chi ti·∫øt</a></div>
      </div>
    </div>
  </div>
  <!-- login modal -->
  <div id="loginModal" class="auth-modal" aria-hidden="true">
    <div class="auth-panel">
      <h3>ƒêƒÉng nh·∫≠p</h3>
      <form id="loginForm" class="auth-form">
        <div class="form-row">
          <label for="login_username">T√™n ƒëƒÉng nh·∫≠p</label>
          <input id="login_username" name="username" type="text" required>
        </div>
        <div class="form-row">
          <label for="login_password">M·∫≠t kh·∫©u</label>
          <input id="login_password" name="password" type="password" required>
        </div>
        <div class="form-actions">
          <a href="#" class="form-link">Qu√™n m·∫≠t kh·∫©u?</a>
          <button type="submit" class="btn primary">ƒêƒÉng nh·∫≠p</button>
        </div>
        <div class="form-note">
          Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" id="showRegister">ƒêƒÉng k√Ω</a>
        </div>
      </form>
      <button class="close" id="closeLogin">‚úï</button>
    </div>
  </div>

  <!-- register modal -->
  <div id="registerModal" class="auth-modal" aria-hidden="true">
    <div class="auth-panel register-panel">
      <h3>ƒêƒÉng k√Ω th√†nh vi√™n</h3>
      <form id="registerForm" class="auth-form">
        <h4>Th√¥ng tin c√° nh√¢n</h4>
        <div class="register-grid">
          <div class="form-row full">
            <label for="reg_fullname">H·ªç v√† t√™n</label>
            <input id="reg_fullname" name="fullname" type="text" required placeholder="Nh·∫≠p h·ªç v√† t√™n">
          </div>
          
          <div class="form-row">
            <label for="reg_birthday">Ng√†y sinh</label>
            <div class="date-inline">
              <select id="reg_day" name="day" style="padding:10px;border-radius:8px;border:1px solid rgba(240,80,128,0.12)"></select>
              <select id="reg_month" name="month" style="padding:10px;border-radius:8px;border:1px solid rgba(240,80,128,0.12)"></select>
              <input id="reg_year" name="year" type="text" placeholder="YYYY" style="width:88px">
            </div>
          </div>

          <div class="form-row">
            <label>Gi·ªõi t√≠nh</label>
            <div class="gender">
              <label><input type="radio" name="gender" value="Nam" checked> Nam</label>
              <label><input type="radio" name="gender" value="Nu"> N·ªØ</label>
              <label><input type="radio" name="gender" value="Khac"> Kh√°c</label>
            </div>
          </div>

          <div class="form-row full">
            <label for="reg_address">ƒê·ªãa ch·ªâ</label>
            <input id="reg_address" name="address" type="text">
          </div>

          <div class="form-row">
            <label for="reg_phone">ƒêi·ªán tho·∫°i</label>
            <input id="reg_phone" name="phone" type="text" placeholder="09xxxxxxxx">
          </div>

          <div class="form-row">
            <label for="reg_email">Email</label>
            <input id="reg_email" name="email" type="email" required placeholder="name@example.com">
          </div>
        </div>

        <h4>Th√¥ng tin ƒëƒÉng nh·∫≠p</h4>
        <div class="register-grid">
          <div class="form-row full">
            <label for="reg_username">T√™n ƒëƒÉng nh·∫≠p</label>
            <input id="reg_username" name="username" type="text" required>
          </div>
          <div class="form-row">
            <label for="reg_password">M·∫≠t kh·∫©u</label>
            <input id="reg_password" name="password" type="password" required>
          </div>
          <div class="form-row">
            <label for="reg_confirm_password">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
            <input id="reg_confirm_password" name="confirm_password" type="password" required>
          </div>
        </div>

        <div class="form-actions" style="justify-content:center;gap:12px;margin-top:20px">
          <button type="submit" class="btn primary">ƒêƒÉng k√Ω</button>
          <button type="reset" class="btn ghost">H·ªßy</button>
        </div>
        <div class="form-note">
          ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" id="showLogin">ƒêƒÉng nh·∫≠p</a>
        </div>
      </form>
      <button class="close" id="closeRegister">‚úï</button>
    </div>
  </div>

  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-col">
        <div class="footer-brand">
          <img src="images/umaru.png" alt="PENS logo">
          <div>
            <strong style="font-size:18px">Pens</strong>
            <div style="color:#7a1f2e;opacity:0.9">D·ª•ng c·ª• h·ªçc t·∫≠p ‚Äî T·∫≠n t√¢m, Gi√° t·ªët</div>
          </div>
        </div>
        <p style="margin-top:12px;color:#555;max-width:320px">Ch√∫ng t√¥i cung c·∫•p b√∫t, t·∫≠p v·ªü, balo v√† ph·ª• ki·ªán ch·∫•t l∆∞·ª£ng v·ªõi giao h√†ng nhanh. Nh·∫≠n m√£ gi·∫£m gi√° v√† tin khuy·∫øn m√£i khi ƒëƒÉng k√Ω.</p>
      </div>

      <div class="footer-col">
        <h4 style="margin:0 0 8px;color:#7a1f2e">Li√™n k·∫øt</h4>
        <ul class="footer-links">
          <li><a href="index.html">Trang ch·ªß</a></li>
          <li><a href="HeThongCuaHang.html">H·ªá th·ªëng c·ª≠a h√†ng</a></li>
          <li><a href="VePen.html">V·ªÅ Pen</a></li>
          <li><a href="product.html">S·∫£n ph·∫©m</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4 style="margin:0 0 8px;color:#7a1f2e">Theo d√µi &amp; ƒêƒÉng k√Ω</h4>
        <div class="newsletter">
          <input id="newsletterEmail" placeholder="Nh·∫≠p email c·ªßa b·∫°n" />
          <div style="display:flex;gap:8px">
            <button id="newsletterBtn">ƒêƒÉng k√Ω</button>
            <button class="btn ghost" onclick="window.location.href='Dangky.html'">T·∫°o t√†i kho·∫£n</button>
          </div>
        </div>
        <div style="margin-top:12px">
          <div class="socials">
            <a href="https://www.facebook.com/profile.php?id=61551949883685" title="Facebook" aria-label="Facebook" target="_blank" rel="noopener noreferrer">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="1" y="1" width="22" height="22" rx="4" fill="currentColor" opacity="0.06" />
                <path d="M15 8.5h-1.2c-0.6 0-0.8 0.3-0.8 0.8V10h2l-0.3 2h-1.7v6h-2.1v-6H9.8v-2h1.2v-1.2c0-1 0.6-2.3 2.3-2.3h1.7v2z" fill="currentColor" />
              </svg>
            </a>
            <a href="#" title="Instagram" aria-label="Instagram">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="2" y="2" width="20" height="20" rx="5" fill="currentColor" opacity="0.04" />
                <path d="M12 7.2a4.8 4.8 0 1 0 0 9.6 4.8 4.8 0 0 0 0-9.6zm0 7.8a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill="currentColor" />
                <circle cx="17.5" cy="6.5" r="0.9" fill="currentColor" />
              </svg>
            </a>
            <a href="https://www.tiktok.com/@dungcuhtpens" title="Tiktok" aria-label="Tiktok" target="_blank" rel="noopener noreferrer">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="1" y="1" width="22" height="22" rx="4" fill="currentColor" opacity="0.04" />
                <path d="M14.5 6.5v6.2a3.3 3.3 0 1 1-1.6-2.8V8.4s-1.6 0-2.8 0v-1.9c1.6 0 4.4 0 4.4-4.4h1.9c0 0 .1 3.8 3.1 5.1v1.2c-2.8-.1-4.9-1.1-4.9-1.1z" fill="currentColor" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div>¬© 2025 Pens ‚Äî C·ª≠a h√†ng d·ª•ng c·ª• h·ªçc t·∫≠p. B·∫£n quy·ªÅn thu·ªôc v·ªÅ Pens.</div>
      <div style="display:flex;gap:12px;align-items:center">
        <div class="payment-icons">
          <img src="visa.jpg" alt="Visa" style="height:22px"/>
          <img src="mtc.webp" alt="Mastercard" style="height:22px"/>
          <img src="cod.webp" alt="COD" style="height:22px"/>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Newsletter signup handler (client-side demo)
    (function(){
      const btn = document.getElementById('newsletterBtn')
      if(!btn) return
      btn.addEventListener('click', ()=>{
        const input = document.getElementById('newsletterEmail')
        const email = input.value.trim()
        if(!email || !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){
          alert('Vui l√≤ng nh·∫≠p email h·ª£p l·ªá')
          return
        }
        // Demo behaviour: store a simple flag and show a thank-you message
        try{ localStorage.setItem('newsletter', JSON.stringify({email: email, ts: Date.now()})) }catch(e){}
        input.value = ''
        alert('C·∫£m ∆°n! Email ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n ‚Äî ch√∫ng t√¥i s·∫Ω g·ª≠i khuy·∫øn m√£i s·ªõm.')
      })
    })()
  </script>

  <script>
  // inlined data.js
  // product data (images in images/ folder)
  const products = [
  {id:1, title:'B√∫t gel m√†u 0.5', price:12000, cat:'pen', img:'butgelmau0.5.jpeg', desc:'B√∫t gel √™m, m·ª±c l√™n ƒë·ªÅu, th√≠ch h·ª£p vi·∫øt nhanh.'},
  {id:2, title:'B√∫t bi x·ªãn', price:8000, cat:'pen', img:'bbx.jpg', desc:'B√∫t bi si√™u b·ªÅn, vi·∫øt m∆∞·ª£t, m·∫´u m√£ ƒë·∫πp.'},
  {id:3, title:'T·∫≠p 200 trang', price:18000, cat:'notebook', img:'s200.jpeg', desc:'T·∫≠p 200 trang, gi·∫•y tr·∫Øng, b√¨a c·ª©ng.'},
  {id:4, title:'T·∫≠p k·∫ª ngang', price:15000, cat:'notebook', img:'tkn.jpeg', desc:'T·∫≠p k·∫ª ngang A4, ph√π h·ª£p h·ªçc sinh.'},
    {id:5, title:'Balo tr·∫ª em', price:250000, cat:'bag', img:'balo.webp', desc:'Balo nh·∫π, nhi·ªÅu ngƒÉn, h·ªça ti·∫øt d·ªÖ th∆∞∆°ng.'},
  {id:6, title:'H·ªôp b√∫t v·∫Ω', price:45000, cat:'pen', img:'hopbutve.jpeg', desc:'H·ªôp b√∫t ƒë·ªß m√†u, ch·∫•t l∆∞·ª£ng t·ªët cho h·ªçc v·∫Ω.'},
  {id:7, title:'S·ªï tay A5', price:22000, cat:'notebook', img:'sta5.jpg', desc:'S·ªï tay ti·ªán d·ª•ng A5, gi·∫•y m·ªãn.'},
  {id:8, title:'T√∫i ƒë·ª±ng b√∫t', price:12000, cat:'bag', img:'tdb.png', desc:'T√∫i ƒë·ª±ng b√∫t nh·ªè g·ªçn, d·ªÖ mang theo.'}
  ]
  </script>
  <script>
  // dropdown menu behavior for category nav
  (function(){
    const nav = document.getElementById('mainNav')
    if(!nav) return
    const items = Array.from(nav.querySelectorAll('.nav-item'))
    
    // Helper function to filter products based on category
    function filterByCategory(category) {
      let filterValue = 'all'
      switch(category) {
        case 'B√∫t gel':
        case 'B√∫t bi':
        case 'B√∫t ch√¨':
        case 'H·ªôp b√∫t v·∫Ω':
          filterValue = 'pen'
          break
        case 'T·∫≠p 100 trang':
        case 'T·∫≠p 200 trang':
        case 'S·ªï tay':
          filterValue = 'notebook'
          break
        case 'Balo tr·∫ª em':
        case 'T√∫i ƒë·ª±ng b√∫t':
        case 'T√∫i v·∫£i':
          filterValue = 'bag'
          break
      }
      renderProducts(filterValue)
      // Update active state of filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-cat') === filterValue)
      })
    }

    items.forEach(it=>{
      const btn = it.querySelector('.nav-btn')
      const submenu = it.querySelector('.submenu')
      if(!btn || !submenu) return
      
      // Add click handlers for submenu items
      submenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault()
          const category = e.target.textContent
          filterByCategory(category)
          // Close menu after selection
          items.forEach(i => { 
            i.classList.remove('open')
            const b = i.querySelector('.nav-btn')
            if(b) b.setAttribute('aria-expanded','false')
            const s = i.querySelector('.submenu')
            if(s) s.setAttribute('aria-hidden','true')
          })
        })
      })

      btn.addEventListener('click', (e)=>{
        const isOpen = it.classList.contains('open')
        // close all
        items.forEach(i=>{ i.classList.remove('open'); const b=i.querySelector('.nav-btn'); if(b) b.setAttribute('aria-expanded','false'); const s=i.querySelector('.submenu'); if(s) s.setAttribute('aria-hidden','true') })
        if(!isOpen){
          it.classList.add('open')
          btn.setAttribute('aria-expanded','true')
          submenu.setAttribute('aria-hidden','false')
        }
        // If "T·∫§T C·∫¢" button is clicked, show all products
        if(btn.textContent.trim() === 'T·∫§T C·∫¢') {
          renderProducts('all')
          // Update active state of filter buttons
          document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.toggle('active', btn.getAttribute('data-cat') === 'all')
          })
        }
        e.stopPropagation()
      })
    })

    // close when clicking outside
    document.addEventListener('click', ()=>{
      items.forEach(i=>{ i.classList.remove('open'); const b=i.querySelector('.nav-btn'); if(b) b.setAttribute('aria-expanded','false'); const s=i.querySelector('.submenu'); if(s) s.setAttribute('aria-hidden','true') })
    })

    // close on escape
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') document.dispatchEvent(new Event('click')) })
  })()
  </script>

  <script>
  // Auth modals handling
  const loginModal = document.getElementById('loginModal')
  const registerModal = document.getElementById('registerModal')
  const loginBtn = document.getElementById('loginBtn')
  const registerBtn = document.getElementById('registerBtn')
  const closeLogin = document.getElementById('closeLogin')
  const closeRegister = document.getElementById('closeRegister')
  const showRegister = document.getElementById('showRegister')
  const showLogin = document.getElementById('showLogin')

  // Initialize birthday selects
  const daySelect = document.getElementById('reg_day')
  const monthSelect = document.getElementById('reg_month')
  for(let i=1; i<=31; i++) daySelect.add(new Option(String(i).padStart(2,'0'), String(i).padStart(2,'0')))
  for(let i=1; i<=12; i++) monthSelect.add(new Option(String(i).padStart(2,'0'), String(i).padStart(2,'0')))

  function showModal(modal) {
    modal.style.display = 'flex'
    modal.setAttribute('aria-hidden', 'false')
  }

  function hideModal(modal) {
    modal.style.display = 'none'
    modal.setAttribute('aria-hidden', 'true')
  }

  // Adjust register panel height to match its width (square) when opened
  const registerPanelElement = document.querySelector('#registerModal .auth-panel')
  function adjustRegisterHeight(){
    if(!registerPanelElement) return
    // compute width available for the panel (clamped to viewport)
    const rect = registerPanelElement.getBoundingClientRect()
    const computedWidth = rect.width
    // set height equal to width but do not exceed viewport - 48px
    const maxH = Math.max(200, window.innerHeight - 48)
    const newH = Math.min(computedWidth, maxH)
    registerPanelElement.style.height = newH + 'px'
    // ensure inner content can scroll if it overflows
    registerPanelElement.style.overflowY = 'auto'
  }

  // hook into show/hide to apply the square height specifically for register modal
  const originalShowModal = showModal
  const originalHideModal = hideModal
  showModal = function(modal){
    originalShowModal(modal)
    if(modal === registerModal){
      // small timeout to let layout settle before measuring
      setTimeout(adjustRegisterHeight, 40)
    }
  }
  hideModal = function(modal){
    if(modal === registerModal && registerPanelElement) {
      // clear forced height and overflow when hiding
      registerPanelElement.style.height = ''
      registerPanelElement.style.overflowY = ''
    }
    originalHideModal(modal)
  }

  // recompute when visible and window resized
  window.addEventListener('resize', ()=>{ if(registerModal && registerModal.style.display==='flex') adjustRegisterHeight() })

  // Toggle modals
  loginBtn.addEventListener('click', (e) => {
    e.preventDefault()
    showModal(loginModal)
  })

  registerBtn.addEventListener('click', (e) => {
    e.preventDefault()
    showModal(registerModal)
  })

  closeLogin.addEventListener('click', () => hideModal(loginModal))
  closeRegister.addEventListener('click', () => hideModal(registerModal))

  // Switch between login/register
  showRegister.addEventListener('click', (e) => {
    e.preventDefault()
    hideModal(loginModal)
    showModal(registerModal)
  })

  showLogin.addEventListener('click', (e) => {
    e.preventDefault()
    hideModal(registerModal)
    showModal(loginModal)
  })

  // Close modals on outside click
  window.addEventListener('click', (e) => {
    if (e.target === loginModal) hideModal(loginModal)
    if (e.target === registerModal) hideModal(registerModal)
  })

  // Handle form submissions
  document.getElementById('loginForm').addEventListener('submit', (e) => {
    e.preventDefault()
    const data = new FormData(e.target)
    console.log('Login:', Object.fromEntries(data))
    // TODO: Add actual login logic
    hideModal(loginModal)
  })

  document.getElementById('registerForm').addEventListener('submit', (e) => {
    e.preventDefault()
    const data = new FormData(e.target)
    console.log('Register:', Object.fromEntries(data))
    // TODO: Add actual registration logic
    hideModal(registerModal)
  })

  // inlined script.js (depends on products variable above)
  const productGrid = document.getElementById('productGrid')
  const cartBtn = document.getElementById('cartBtn')
  const cartCount = document.getElementById('cartCount')
  const cartModal = document.getElementById('cartModal')
  const cartList = document.getElementById('cartList')
  const cartTotal = document.getElementById('cartTotal')
  const closeCart = document.getElementById('closeCart')
  const checkoutBtn = document.getElementById('checkoutBtn')

  // load cart from localStorage so product page and home stay in sync
  let cart = JSON.parse(localStorage.getItem('cart') || '{}')

  function saveCart(){
    localStorage.setItem('cart', JSON.stringify(cart))
  }

  function formatVND(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")}

  function renderProducts(filter='all'){
    productGrid.innerHTML = ''
    const list = products.filter(p => filter==='all' ? true : p.cat===filter)
    list.forEach(p => {
      const card = document.createElement('div')
  card.className = 'card'
  // mark the card with its category so CSS can target specific types (e.g., notebook)
  card.setAttribute('data-cat', p.cat)
  // tag pouch cards (filename contains pouch or tdb) so we can size them specifically
  if(p.img && /pouch|tdb/i.test(p.img)) card.classList.add('pouch')
      card.innerHTML = `
      <img src="${p.img}" alt="${p.title}" class="prod-img">
      <div class="title">${p.title}</div>
      <div class="price">${formatVND(p.price)}‚Ç´</div>
      <div style="margin-top:auto;display:flex;gap:8px"><button class="btn primary" data-id="${p.id}">Th√™m v√†o gi·ªè</button><button class="btn secondary qview" data-id="${p.id}">Xem nhanh</button></div>
    `
      productGrid.appendChild(card)
      // graceful fallback: if JPEG not present, try the SVG placeholder with same basename
      const imgEl = card.querySelector('img')
      if(imgEl){
          imgEl.onerror = function(){
            try{
              // if expected raster/webp missing, fall back to an SVG placeholder with same basename
              this.src = this.src.replace(/\.(jpe?g|png|webp)$/i, '.svg')
            }catch(e){}
          }
      }
    })
  }

  function updateCartCount(){
    const qty = Object.values(cart).reduce((s,v)=>s+v,0)
    cartCount.textContent = qty
  }

  function openCart(){
    cartModal.style.display='flex'
    cartModal.setAttribute('aria-hidden','false')
    renderCart()
  }
  function closeCartPanel(){
    cartModal.style.display='none'
    cartModal.setAttribute('aria-hidden','true')
  }

  function renderCart(){
    cartList.innerHTML = ''
    let total = 0
    for(const id in cart){
      const p = products.find(x=>x.id==id)
      const qty = cart[id]
      total += p.price * qty
      const li = document.createElement('li')
      li.innerHTML = `<div style="flex:1">${p.title} <div style='color:#888;font-size:13px'>x${qty}</div></div><div style='font-weight:700'>${formatVND(p.price*qty)}‚Ç´</div>`
      cartList.appendChild(li)
    }
    cartTotal.textContent = formatVND(total)
  }

  // add listeners
  productGrid.addEventListener('click', (e)=>{
    const btn = e.target.closest('button.primary[data-id]')
    if(!btn) return
    const id = btn.getAttribute('data-id')
    cart[id] = (cart[id]||0) + 1
    saveCart()
    updateCartCount()
  })

  // quick-view modal
  const quickView = document.getElementById('quickView')
  const qClose = document.getElementById('qClose')
  const qImg = document.getElementById('qImg')
  const qTitle = document.getElementById('qTitle')
  const qPrice = document.getElementById('qPrice')
  const qDesc = document.getElementById('qDesc')
  const qAdd = document.getElementById('qAdd')
  const qDetail = document.getElementById('qDetail')

  productGrid.addEventListener('click', (e)=>{
    const qbtn = e.target.closest('button.qview')
    if(!qbtn) return
    const id = Number(qbtn.getAttribute('data-id'))
    const p = products.find(x=>x.id===id)
    if(!p) return
    qImg.src = p.img
    qImg.alt = p.title
    qTitle.textContent = p.title
    qPrice.textContent = formatVND(p.price) + '‚Ç´'
    qDesc.textContent = p.desc || ''
    qAdd.onclick = ()=>{ cart[id] = (cart[id]||0)+1; saveCart(); updateCartCount(); renderCart(); }
    qDetail.href = 'product.html?id=' + id
    quickView.style.display = 'flex'
  }
  )
  qClose.addEventListener('click', ()=> quickView.style.display='none')
  cartBtn.addEventListener('click', openCart)
  closeCart.addEventListener('click', closeCartPanel)
  checkoutBtn.addEventListener('click', ()=>{
    alert('Thanh to√°n t·∫°m (demo) - T·ªïng: ' + cartTotal.textContent + '‚Ç´')
    cart = {}
    saveCart()
    updateCartCount()
    renderCart()
    closeCartPanel()
  })
  // filter buttons
  Array.from(document.querySelectorAll('.filter-btn')).forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'))
      btn.classList.add('active')
      const cat = btn.getAttribute('data-cat')
      renderProducts(cat)
    })
  })

  // search
  const searchInput = document.getElementById('searchInput')
  const searchForm = document.querySelector('.search-form')
  searchForm.addEventListener('submit', ()=>{
    const q = searchInput.value.trim().toLowerCase()
    productGrid.innerHTML = ''
    const list = products.filter(p => p.title.toLowerCase().includes(q))
    list.forEach(p=>{
      const card = document.createElement('div')
      card.className = 'card'
      card.innerHTML = `\n      <div class="thumb">${p.title.split(' ')[0]}</div>\n      <div class="title">${p.title}</div>\n      <div class="price">${formatVND(p.price)}‚Ç´</div>\n      <div style="margin-top:auto"><button class="btn primary" data-id="${p.id}">Th√™m v√†o gi·ªè</button></div>\n    `
      productGrid.appendChild(card)
    })
  })

  // initialize
  renderProducts()
  updateCartCount()

  // listen to localStorage changes so multiple tabs/pages stay in sync
  window.addEventListener('storage', (e)=>{
    if(e.key === 'cart'){
      try{ cart = JSON.parse(e.newValue || '{}') }catch(err){ cart = {} }
      updateCartCount()
      if(cartModal.style.display === 'flex') renderCart()
    }
  })
  </script>
  <script>
  // Simple hero slider: auto-advance with pause-on-hover and dots
  (function(){
    const slider = document.querySelector('.hero-slider')
    if(!slider) return
    const slidesWrap = slider.querySelector('.slides')
    const slides = Array.from(slidesWrap.children)
    const dotsWrap = slider.querySelector('.slider-dots')
    let idx = 0, timer = null, interval = 3500

    // create dots
    slides.forEach((s,i)=>{
      const d = document.createElement('button')
      d.className = 'slider-dot'
      d.setAttribute('aria-label','Slide ' + (i+1))
      d.addEventListener('click', ()=> goTo(i))
      dotsWrap.appendChild(d)
    })

    const dots = Array.from(dotsWrap.children)

    function update(){
      slidesWrap.style.transform = `translateX(${ -idx * 100 }%)`
      dots.forEach((d,i)=> d.classList.toggle('active', i===idx))
    }

    function next(){ idx = (idx + 1) % slides.length; update() }
    function goTo(n){ idx = (n % slides.length + slides.length) % slides.length; update(); restart() }

    function start(){ if(timer) clearInterval(timer); timer = setInterval(next, interval) }
    function stop(){ if(timer) clearInterval(timer); timer = null }
    function restart(){ stop(); start() }

    // start
    update(); start()

    // pause on hover
    slider.addEventListener('mouseenter', stop)
    slider.addEventListener('mouseleave', start)

    // make slider responsive to visibility (pause when tab hidden)
    document.addEventListener('visibilitychange', ()=>{ if(document.hidden) stop(); else start() })
  })()
  </script>
</body>

</html>
